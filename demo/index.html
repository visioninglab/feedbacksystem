<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Your Feedback</title>
  <style>
    :root {
      --primary: #2c3e6b;
      --primary-light: #3d5a99;
      --accent: #0055a5;
      --surface: #ffffff;
      --bg: #f0f2f5;
      --border: #d0d7de;
      --text: #1a1a1a;
      --text-sec: #555555;
      --text-muted: #888888;
      --radius: 8px;
      --shadow: 0 1px 3px rgba(0,0,0,0.1);

      /* PEEL-derived section colours */
      --c-structure: #33a02c;
      --c-structure-bg: #f2f9f2;
      --c-understanding: #1f78b4;
      --c-understanding-bg: #f0f7fc;
      --c-argument: #6a3d9a;
      --c-argument-bg: #f9f5fd;
      --c-writing: #e66100;
      --c-writing-bg: #fdf3ec;
      --c-referencing: #285e61;
      --c-referencing-bg: #eef7f7;
    }

    *, *::before, *::after { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.5;
    }

    /* ========== LOGIN PAGE ========== */
    .login-page {
      min-height: 100vh; display: flex; align-items: center; justify-content: center;
      background: linear-gradient(135deg, #2c3e6b 0%, #3d5a99 50%, #5b7ec2 100%);
      padding: 24px;
    }
    .login-card {
      background: var(--surface); border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.15);
      padding: 44px 36px; width: 100%; max-width: 400px; text-align: center;
    }
    .login-logo { font-size: 26px; font-weight: 700; color: var(--primary); margin-bottom: 2px; }
    .login-subtitle { font-size: 13px; color: var(--text-muted); margin-bottom: 28px; }
    .login-field { text-align: left; margin-bottom: 14px; }
    .login-field label {
      display: block; font-size: 11px; font-weight: 700; color: var(--text-sec);
      text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 3px;
    }
    .login-field input {
      width: 100%; padding: 9px 12px; border: 1px solid var(--border); border-radius: 6px;
      font-size: 14px; font-family: inherit; color: var(--text); background: #f8f9fa;
    }
    .login-field input:focus { outline: 2px solid var(--accent); outline-offset: 1px; }
    .login-btn {
      width: 100%; padding: 11px; margin-top: 20px; background: var(--primary); color: #fff;
      border: none; border-radius: 6px; font-size: 15px; font-weight: 600; font-family: inherit;
      cursor: pointer; transition: background 0.2s;
    }
    .login-btn:hover { background: var(--primary-light); }
    .login-demo-note {
      margin-top: 18px; padding: 10px 14px; background: #fffbeb; border: 1px solid #fcd34d;
      border-radius: 6px; font-size: 12px; color: #92400e; line-height: 1.5;
    }

    /* ========== APP PAGES ========== */
    .app-page { display: none; min-height: 100vh; }

    /* Banner + Nav (PEEL style) */
    .banner { background: #cf222e; color: #fff; text-align: center; padding: 8px; font-weight: 700; font-size: 13px; letter-spacing: 0.5px; }
    .nav { background: var(--primary); color: #fff; padding: 14px 24px; display: flex; align-items: center; gap: 12px; }
    .nav-title { font-size: 18px; font-weight: 600; cursor: pointer; }
    .nav-title:hover { opacity: 0.85; }
    .nav .badge { background: rgba(255,255,255,0.2); padding: 2px 10px; border-radius: 12px; font-size: 11px; }
    .nav-links { display: flex; gap: 8px; margin-left: 8px; }
    .nav-link {
      color: rgba(255,255,255,0.8); text-decoration: none; font-size: 13px;
      padding: 3px 10px; border-radius: 4px; transition: background 0.15s;
    }
    .nav-link:hover { color: #fff; background: rgba(255,255,255,0.12); }
    .nav-right { margin-left: auto; display: flex; align-items: center; gap: 14px; font-size: 13px; }
    .nav-user { opacity: 0.8; }
    .nav-logout {
      background: rgba(255,255,255,0.12); border: 1px solid rgba(255,255,255,0.2); color: #fff;
      padding: 4px 12px; border-radius: 5px; font-size: 11px; font-family: inherit;
      cursor: pointer; font-weight: 600;
    }
    .nav-logout:hover { background: rgba(255,255,255,0.22); }

    /* Content */
    .content { max-width: 800px; margin: 0 auto; padding: 24px 20px 48px; }

    /* ========== ASSIGNMENTS LIST ========== */
    .list-header { margin-bottom: 20px; }
    .list-header h1 { font-size: 22px; font-weight: 700; margin: 0 0 4px; color: var(--primary); }
    .list-header p { font-size: 14px; color: var(--text-sec); margin: 0; }

    /* Progress summary (PEEL out-block style) */
    .progress-summary {
      background: var(--surface); border: 1px solid var(--border); border-left: 4px solid var(--c-understanding);
      border-radius: 0 var(--radius) var(--radius) 0;
      padding: 16px 20px; margin-bottom: 20px; box-shadow: var(--shadow);
    }
    .progress-summary-title {
      font-size: 12px; font-weight: 700; color: var(--c-understanding);
      text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 10px;
    }
    .progress-item { font-size: 13px; color: var(--text); line-height: 1.6; display: flex; align-items: baseline; gap: 8px; margin-bottom: 4px; }
    .progress-item:last-child { margin-bottom: 0; }
    .progress-arrow { color: #33a02c; font-weight: 700; }

    /* Assignment card */
    .assignment-card {
      background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius);
      box-shadow: var(--shadow); margin-bottom: 12px; overflow: hidden;
      cursor: pointer; transition: box-shadow 0.2s, transform 0.15s;
    }
    .assignment-card:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.12); transform: translateY(-1px); }
    .assignment-card-inner { display: flex; align-items: center; padding: 16px 20px; gap: 16px; }
    .assignment-info { flex: 1; min-width: 0; }
    .assignment-module {
      font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px;
      color: var(--primary); margin-bottom: 2px;
    }
    .assignment-title { font-size: 15px; font-weight: 600; color: var(--text); margin-bottom: 2px; }
    .assignment-meta { font-size: 12px; color: var(--text-muted); }
    .assignment-right { display: flex; align-items: center; gap: 14px; flex-shrink: 0; }

    /* Grade badge */
    .grade-badge {
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      width: 58px; height: 58px; border-radius: 50%; font-weight: 700;
    }
    .grade-badge .grade-pct { font-size: 17px; line-height: 1; }
    .grade-badge .grade-label { font-size: 8px; text-transform: uppercase; letter-spacing: 0.3px; opacity: 0.9; margin-top: 2px; }
    .grade-distinction { background: #dafbe1; color: #1a7f37; }
    .grade-merit { background: #d0e8ff; color: #1a56a0; }
    .grade-pass { background: #fff8c5; color: #9a6700; }
    .grade-developing { background: #fed7d7; color: #742a2a; }
    .assignment-arrow { font-size: 18px; color: var(--text-muted); }

    /* ========== FEEDBACK DETAIL ========== */
    .back-btn {
      display: inline-flex; align-items: center; gap: 4px; font-size: 13px; color: var(--primary);
      text-decoration: none; font-weight: 600; margin-bottom: 16px; cursor: pointer;
      border: none; background: none; font-family: inherit; padding: 0;
    }
    .back-btn:hover { color: var(--primary-light); }

    .print-bar { display: flex; justify-content: flex-end; margin-bottom: 16px; }
    .btn-print {
      display: inline-flex; align-items: center; gap: 5px; padding: 6px 14px;
      background: var(--surface); border: 1px solid var(--border); border-radius: 5px;
      font-size: 12px; font-weight: 600; font-family: inherit; color: var(--text-sec);
      cursor: pointer;
    }
    .btn-print:hover { background: #f6f8fa; }

    /* Welcome panel (PEEL panel style) */
    .welcome-panel {
      background: var(--primary); color: #fff; border-radius: var(--radius);
      padding: 24px 28px; margin-bottom: 20px;
    }
    .welcome-name { font-size: 22px; font-weight: 700; margin-bottom: 4px; }
    .welcome-meta { font-size: 13px; opacity: 0.8; display: flex; gap: 16px; flex-wrap: wrap; }
    .welcome-grade-row { display: flex; align-items: center; gap: 10px; margin-top: 10px; }
    .welcome-grade-badge {
      display: inline-block; padding: 3px 12px; border-radius: 12px;
      font-size: 13px; font-weight: 700; background: rgba(255,255,255,0.18);
    }
    .welcome-date { font-size: 12px; opacity: 0.65; }

    /* Intro block (PEEL panel) */
    .intro-panel {
      background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius);
      box-shadow: var(--shadow); margin-bottom: 20px;
    }
    .intro-panel .panel-hdr {
      padding: 10px 16px; border-bottom: 1px solid var(--border); font-weight: 600;
      font-size: 12px; color: var(--primary); text-transform: uppercase; letter-spacing: 0.5px;
    }
    .intro-panel .panel-body { padding: 16px; font-size: 14px; color: var(--text-sec); line-height: 1.7; }

    /* ========== FEEDBACK SECTIONS (PEEL out-block style) ========== */
    .fb-section {
      background: var(--surface); border: 1px solid var(--border);
      border-radius: 0 var(--radius) var(--radius) 0;
      box-shadow: var(--shadow); margin-bottom: 16px; overflow: hidden;
      border-left: 4px solid var(--border);
    }
    .fb-section-hdr {
      padding: 10px 16px; border-bottom: 1px solid var(--border);
      font-weight: 700; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;
      display: flex; align-items: center; gap: 8px;
    }
    .fb-section-body { padding: 16px; }

    /* Section colour themes */
    .sec-structure { border-left-color: var(--c-structure); }
    .sec-structure .fb-section-hdr { color: var(--c-structure); }
    .sec-understanding { border-left-color: var(--c-understanding); }
    .sec-understanding .fb-section-hdr { color: var(--c-understanding); }
    .sec-argument { border-left-color: var(--c-argument); }
    .sec-argument .fb-section-hdr { color: var(--c-argument); }
    .sec-writing { border-left-color: var(--c-writing); }
    .sec-writing .fb-section-hdr { color: var(--c-writing); }
    .sec-referencing { border-left-color: var(--c-referencing); }
    .sec-referencing .fb-section-hdr { color: var(--c-referencing); }

    .fb-text { font-size: 14px; line-height: 1.7; color: var(--text); margin-bottom: 14px; }
    .fb-text:last-child { margin-bottom: 0; }
    .fb-subsection { margin-bottom: 16px; }
    .fb-subsection:last-child { margin-bottom: 0; }
    .fb-subsection-title {
      font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px;
      margin-bottom: 4px;
    }
    .sec-structure .fb-subsection-title { color: var(--c-structure); }
    .sec-understanding .fb-subsection-title { color: var(--c-understanding); }
    .sec-argument .fb-subsection-title { color: var(--c-argument); }
    .sec-writing .fb-subsection-title { color: var(--c-writing); }
    .sec-referencing .fb-subsection-title { color: var(--c-referencing); }
    .fb-divider { border: none; border-top: 1px solid var(--border); margin: 14px 0; }

    /* Tips box (PEEL out-block accent style) */
    .tips-box {
      border-left: 4px solid var(--border); border-radius: 0 6px 6px 0;
      padding: 12px 16px; margin-top: 14px;
    }
    .tips-box-title {
      font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px;
      margin-bottom: 6px;
    }
    .tips-box ul { margin: 0; padding-left: 16px; }
    .tips-box li { font-size: 13px; line-height: 1.6; margin-bottom: 4px; color: var(--text); }
    .tips-box li:last-child { margin-bottom: 0; }

    .sec-structure .tips-box { background: var(--c-structure-bg); border-left-color: var(--c-structure); }
    .sec-structure .tips-box-title { color: var(--c-structure); }
    .sec-understanding .tips-box { background: var(--c-understanding-bg); border-left-color: var(--c-understanding); }
    .sec-understanding .tips-box-title { color: var(--c-understanding); }
    .sec-argument .tips-box { background: var(--c-argument-bg); border-left-color: var(--c-argument); }
    .sec-argument .tips-box-title { color: var(--c-argument); }
    .sec-writing .tips-box { background: var(--c-writing-bg); border-left-color: var(--c-writing); }
    .sec-writing .tips-box-title { color: var(--c-writing); }
    .sec-referencing .tips-box { background: var(--c-referencing-bg); border-left-color: var(--c-referencing); }
    .sec-referencing .tips-box-title { color: var(--c-referencing); }

    /* Skill link */
    .skill-link-wrapper { margin-top: 14px; }
    .skill-link {
      display: inline-block; padding: 7px 16px; background: var(--primary); color: #fff;
      text-decoration: none; border-radius: 5px; font-size: 12px; font-weight: 600;
      transition: background 0.2s;
    }
    .skill-link:hover { background: var(--primary-light); }

    /* ========== ACTION PLAN (PEEL panel style) ========== */
    .action-plan {
      background: var(--surface); border: 1px solid var(--border); border-left: 4px solid var(--accent);
      border-radius: 0 var(--radius) var(--radius) 0; box-shadow: var(--shadow);
      margin-bottom: 16px; overflow: hidden;
    }
    .action-plan-hdr {
      padding: 10px 16px; border-bottom: 1px solid var(--border);
      font-weight: 700; font-size: 12px; color: var(--accent);
      text-transform: uppercase; letter-spacing: 0.5px;
    }
    .action-plan-body { padding: 16px; }
    .action-plan-intro { font-size: 13px; color: var(--text-sec); margin-bottom: 12px; }
    .action-item {
      display: flex; align-items: flex-start; gap: 10px; padding: 8px 0;
      border-bottom: 1px solid #eee;
    }
    .action-item:last-child { border-bottom: none; }
    .action-item input[type="checkbox"] {
      margin-top: 2px; width: 16px; height: 16px; accent-color: var(--accent);
      cursor: pointer; flex-shrink: 0;
    }
    .action-item label { font-size: 13px; line-height: 1.6; cursor: pointer; flex: 1; }
    .action-item label.checked { text-decoration: line-through; color: var(--text-muted); }
    .action-plan-progress {
      margin-top: 12px; padding-top: 10px; border-top: 1px solid #eee;
      font-size: 12px; color: var(--text-muted);
    }
    .progress-bar-bg { width: 100%; height: 6px; background: #eee; border-radius: 3px; margin-top: 5px; overflow: hidden; }
    .progress-bar-fill { height: 100%; background: var(--accent); border-radius: 3px; transition: width 0.3s; }

    /* Footer */
    .page-footer {
      max-width: 800px; margin: 0 auto; padding: 0 20px 32px;
      text-align: center; font-size: 12px; color: var(--text-muted); line-height: 1.5;
    }

    /* Print */
    @media print {
      .banner, .nav, .back-btn, .print-bar, .skill-link-wrapper,
      .action-plan input[type="checkbox"], .page-footer { display: none !important; }
      body { background: #fff; }
      .app-page { display: block !important; }
      .content { padding: 0; max-width: 100%; }
      .fb-section, .action-plan, .welcome-panel, .intro-panel { break-inside: avoid; }
    }

    /* Responsive */
    @media (max-width: 600px) {
      .login-card { padding: 32px 24px; }
      .content { padding: 16px 14px 32px; }
      .welcome-panel { padding: 18px 20px; }
      .welcome-name { font-size: 18px; }
      .fb-section-body { padding: 12px; }
      .assignment-card-inner { flex-direction: column; align-items: flex-start; gap: 10px; }
      .assignment-right { align-self: flex-end; }
      .nav { flex-wrap: wrap; gap: 8px; }
    }
  </style>
</head>
<body>

  <!-- LOGIN -->
  <div class="login-page" id="loginPage">
    <div class="login-card">
      <div class="login-logo">Your Feedback</div>
      <div class="login-subtitle">Psychology Department Feedback Portal</div>
      <div class="login-field">
        <label for="loginEmail">Student Email</label>
        <input type="text" id="loginEmail" value="mei.chen@university.ac.uk">
      </div>
      <div class="login-field">
        <label for="loginPassword">Password</label>
        <input type="password" id="loginPassword" value="demo1234">
      </div>
      <button class="login-btn" id="btnLogin">Enter</button>
      <div class="login-demo-note">
        This is a demo with sample data. Click <strong>Enter</strong> to view personalised feedback.<br>
        <a href="../demo_v1/index.html" style="color:#92400e; font-weight:600;">View v1 demo (Tutor Feedback Builder) &rarr;</a>
      </div>
    </div>
  </div>

  <!-- APP -->
  <div class="app-page" id="appPage">
    <div class="banner">*** THIS IS SAMPLE DATA ONLY ***</div>
    <div class="nav">
      <div class="nav-title" id="navHome">Your Feedback</div>
      <span class="badge">Demo</span>
      <div class="nav-links">
        <a class="nav-link" href="skills/index.html" target="_blank">Study Skills</a>
      </div>
      <div class="nav-right">
        <span class="nav-user" id="navUser"></span>
        <button class="nav-logout" id="btnLogout">Log out</button>
      </div>
    </div>
    <div class="content" id="appContent"></div>
    <div class="page-footer">
      If you have questions about any of these comments, please book an appointment during office hours.<br>
      If you need this feedback in another format, please email your module tutor.
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
